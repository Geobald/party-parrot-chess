{"version":3,"sources":["webpack:///static/js/app.7a1afd90170ea803897e.js","webpack:///./src/components/chessboard/chessboard.vue?f50a","webpack:///./src/pages/chess/chess.vue?9998","webpack:///./src/pages/chess/chess.vue?75af","webpack:///./src/components/chessboard/chessboard.vue?46c4","webpack:///./src/App.vue?586e","webpack:///./src/router/index.js","webpack:///./src/App.vue","webpack:///./src/components/chessboard/utils/chessgame.js","webpack:///./src/main.js","webpack:///./src/services/stockfish-api.js","webpack:///App.vue","webpack:///./src/components/chessboard/chessboard.js","webpack:///./src/pages/chess/chess.js"],"names":["webpackJsonp","105","module","exports","106","107","111","__webpack_require__","Component","112","113","render","_vm","this","_h","$createElement","_c","_self","staticClass","attrs","iconDir","pgn","side","on","change","$event","boardChange","_v","_m","click","randomMove","staticRenderFns","src","114","ref","_l","square","squareIndex","class","board-square-dark","chessGame","isSquareLight","board-square-light","highlighted-red","isAvailableMove","piece","highlighted-yellow","selectedIndex","style","_e","name","tag","key","id","dragover","dragOver","squareSelected","draggable","getIcon","dragstart","drag","115","40","__webpack_exports__","__WEBPACK_IMPORTED_MODULE_0_vue__","__WEBPACK_IMPORTED_MODULE_1_vue_router__","__WEBPACK_IMPORTED_MODULE_2__pages_chess_chess_vue__","__WEBPACK_IMPORTED_MODULE_2__pages_chess_chess_vue___default","n","use","mode","routes","path","component","a","41","60","__WEBPACK_IMPORTED_MODULE_0_babel_runtime_core_js_number_parse_int__","__WEBPACK_IMPORTED_MODULE_0_babel_runtime_core_js_number_parse_int___default","__WEBPACK_IMPORTED_MODULE_1_babel_runtime_helpers_classCallCheck__","__WEBPACK_IMPORTED_MODULE_1_babel_runtime_helpers_classCallCheck___default","__WEBPACK_IMPORTED_MODULE_2_babel_runtime_helpers_createClass__","__WEBPACK_IMPORTED_MODULE_2_babel_runtime_helpers_createClass___default","__WEBPACK_IMPORTED_MODULE_3_chess_js__","__WEBPACK_IMPORTED_MODULE_3_chess_js___default","ChessGame","arguments","length","undefined","game","load_pgn","setSide","value","reversed","reset","turn","history","verbose","board","boardArray","transformBoardToArray","reverse","i","j","push","sourceIndex","targetIndex","sourceStr","getPositionStringForIndex","targetStr","move","from","to","promotion","index","_this","moves","map","getIndexForPositionString","row","Math","floor","column","abs","_getCoordinates","getCoordinates","_getCoordinates2","number","String","fromCharCode","positionString","_getCoordinatesForPos","getCoordinatesForPositionString","toLowerCase","charCodeAt","61","Object","defineProperty","__WEBPACK_IMPORTED_MODULE_1__App__","__WEBPACK_IMPORTED_MODULE_1__App___default","__WEBPACK_IMPORTED_MODULE_2__router__","config","productionTip","el","router","template","components","App","62","__WEBPACK_IMPORTED_MODULE_0_babel_runtime_helpers_classCallCheck__","__WEBPACK_IMPORTED_MODULE_0_babel_runtime_helpers_classCallCheck___default","__WEBPACK_IMPORTED_MODULE_1_babel_runtime_helpers_createClass__","__WEBPACK_IMPORTED_MODULE_1_babel_runtime_helpers_createClass___default","__WEBPACK_IMPORTED_MODULE_2_axios__","__WEBPACK_IMPORTED_MODULE_2_axios___default","_class","url","baseurl","fen","difficulty","get","params","63","64","__WEBPACK_IMPORTED_MODULE_0_babel_runtime_core_js_get_iterator__","__WEBPACK_IMPORTED_MODULE_0_babel_runtime_core_js_get_iterator___default","__WEBPACK_IMPORTED_MODULE_1__utils_chessgame__","props","type","default","data","availableMoves","squareStyle","height","width","computed","getBoard","getTurn","isActive","watch","newVal","oldVal","syncToPgn","created","mounted","$nextTick","window","addEventListener","getSquareStyle","methods","event","$refs","squareEdgeLength","offsetWidth","applyNewMove","newMove","srcIndex","movePiece","newPgn","newGame","newHistory","getHistory","oldHistory","pop","color","syncBoard","swap","oldIndex","newIndex","temp","$set","source","target","_this2","calculateMove","setTimeout","$emit","getPGN","updatedBoard","displayAvailableMoves","getAvailableMoves","_iteratorNormalCompletion","_didIteratorError","_iteratorError","_step","_iterator","next","done","err","return","console","log","65","__WEBPACK_IMPORTED_MODULE_0__components_chessboard_chessboard_vue__","__WEBPACK_IMPORTED_MODULE_0__components_chessboard_chessboard_vue___default","__WEBPACK_IMPORTED_MODULE_1__services_stockfish_api__","__WEBPACK_IMPORTED_MODULE_2_chess_js__","__WEBPACK_IMPORTED_MODULE_2_chess_js___default","Chessboard","userid","random","twoplayer","chess","stockfishApi","swapSides","getBestMove","then","response","result","sloppy"],"mappings":"AAAAA,cAAc,IAERC,IACA,SAAUC,EAAQC,KAMlBC,IACA,SAAUF,EAAQC,KAMlBE,IACA,SAAUH,EAAQC,KAMlBG,IACA,SAAUJ,EAAQC,EAASI,GCtBjCA,EAAA,IAEA,IAAAC,GAAAD,EAAA,IAEAA,EAAA,IAEAA,EAAA,KAEA,kBAEA,KAGAL,GAAAC,QAAAK,EAAAL,SD+BMM,IACA,SAAUP,EAAQC,EAASI,GE7CjCA,EAAA,IAEA,IAAAC,GAAAD,EAAA,IAEAA,EAAA,IAEAA,EAAA,KAEA,kBAEA,KAGAL,GAAAC,QAAAK,EAAAL,SFsDMO,IACA,SAAUR,EAAQC,GGtExBD,EAAAC,SAAgBQ,OAAA,WAAmB,GAAAC,GAAAC,KAAaC,EAAAF,EAAAG,eAA0BC,EAAAJ,EAAAK,MAAAD,IAAAF,CAC1E,OAAAE,GAAA,OACAE,YAAA,mBACGF,EAAA,cACHE,YAAA,aACAC,OACAC,QAAAR,EAAAQ,QACAC,IAAAT,EAAAS,IACAC,KAAAV,EAAAU,MAEAC,IACAC,OAAA,SAAAC,GACAb,EAAAc,YAAAD,OAGGb,EAAAe,GAAA,KAAAX,EAAA,OACHE,YAAA,aACGF,EAAA,SAAAA,EAAA,SAAAJ,EAAAgB,GAAA,GAAAhB,EAAAe,GAAA,KAAAf,EAAAgB,GAAA,GAAAhB,EAAAe,GAAA,KAAAX,EAAA,KACHE,YAAA,SACAK,IACAM,MAAA,SAAAJ,GACAb,EAAAkB,iBAGGlB,EAAAe,GAAA,wBAAAf,EAAAe,GAAA,KAAAf,EAAAgB,GAAA,cACFG,iBAAA,WAA+B,GAAAnB,GAAAC,KAAaC,EAAAF,EAAAG,eAA0BC,EAAAJ,EAAAK,MAAAD,IAAAF,CACvE,OAAAE,GAAA,MAAAA,EAAA,OACAG,OACAa,IAAA,kEAGC,WAAa,GAAApB,GAAAC,KAAaC,EAAAF,EAAAG,eAA0BC,EAAAJ,EAAAK,MAAAD,IAAAF,CACrD,OAAAE,GAAA,MAAAA,EAAA,MAAAJ,EAAAe,GAAA,2BACC,WAAa,GAAAf,GAAAC,KAAaC,EAAAF,EAAAG,eAA0BC,EAAAJ,EAAAK,MAAAD,IAAAF,CACrD,OAAAE,GAAA,MAAAA,EAAA,MAAAJ,EAAAe,GAAA,+BH6EMM,IACA,SAAU/B,EAAQC,GIhHxBD,EAAAC,SAAgBQ,OAAA,WAAmB,GAAAC,GAAAC,KAAaC,EAAAF,EAAAG,eAA0BC,EAAAJ,EAAAK,MAAAD,IAAAF,CAC1E,OAAAE,GAAA,OACAE,YAAA,yBACGF,EAAA,OACHkB,IAAA,QACAhB,YAAA,0BACGN,EAAAuB,GAAAvB,EAAA,eAAAwB,EAAAC,GACH,MAAArB,GAAA,OACAE,YAAA,SACAoB,OACAC,qBAAA3B,EAAA4B,UAAAC,cAAAJ,GACAK,qBAAA9B,EAAA4B,UAAAC,cAAAJ,GACAM,kBAAA/B,EAAAgC,gBAAAP,IAAAD,EAAAS,MACAC,qBAAAlC,EAAAmC,gBAAAV,GAEAW,MAAApC,EAAA,cACKA,EAAAgC,gBAAAP,KAAAD,EAAAS,MAAA7B,EAAA,KACLE,YAAA,WACKN,EAAAqC,UACFrC,EAAAe,GAAA,KAAAX,EAAA,oBACHE,YAAA,QACAC,OACA+B,KAAA,gBACAC,IAAA,QAEGvC,EAAAuB,GAAAvB,EAAA,eAAAwB,EAAAC,GACH,MAAArB,GAAA,OACAoC,IAAAhB,EAAAiB,GACAnC,YAAA,SACA8B,MAAApC,EAAA,YACAW,IACA+B,SAAA,SAAA7B,GACAb,EAAA2C,SAAAlB,IAEAR,MAAA,SAAAJ,GACAb,EAAA4C,eAAAnB,OAGKD,EAAA,MAAApB,EAAA,OACLE,YAAA,QACAC,OACAsC,UAAA,OACAzB,IAAApB,EAAA8C,QAAAtB,IAEAb,IACAoC,UAAA,SAAAlC,GACAb,EAAAgD,KAAAvB,OAGKzB,EAAAqC,WACF,IACFlB,qBJsHK8B,IACA,SAAU3D,EAAQC,GK1KxBD,EAAAC,SAAgBQ,OAAA,WAAmB,GAAAC,GAAAC,KAAaC,EAAAF,EAAAG,eAA0BC,EAAAJ,EAAAK,MAAAD,IAAAF,CAC1E,OAAAE,GAAA,OACAG,OACAkC,GAAA,SAEGrC,EAAA,oBACFe,qBLgLK+B,GACA,SAAU5D,EAAQ6D,EAAqBxD,GAE7C,YACqB,IAAIyD,GAAoCzD,EAAoB,IACxD0D,EAA2C1D,EAAoB,KAC/D2D,EAAuD3D,EAAoB,KAC3E4D,EAA+D5D,EAAoB6D,EAAEF,EMzL9GF,GAAA,EAAIK,IAAIJ,EAAA,GAERF,EAAA,KAAmBE,GAAA,GACjBK,KAAM,UACNC,SAEIC,KAAM,IACNtB,KAAM,QACNuB,UAAWN,EAAAO,ONmMXC,GACA,SAAUzE,EAAQC,EAASI,GO9MjCA,EAAA,IAEA,IAAAC,GAAAD,EAAA,IAEAA,EAAA,IAEAA,EAAA,KAEA,KAEA,KAGAL,GAAAC,QAAAK,EAAAL,SPuNMyE,GACA,SAAU1E,EAAQ6D,EAAqBxD,GAE7C,YACqB,IAAIsE,GAAuEtE,EAAoB,IAC3FuE,EAA+EvE,EAAoB6D,EAAES,GACrGE,EAAqExE,EAAoB,IACzFyE,EAA6EzE,EAAoB6D,EAAEW,GACnGE,EAAkE1E,EAAoB,IACtF2E,EAA0E3E,EAAoB6D,EAAEa,GAChGE,EAAyC5E,EAAoB,IAC7D6E,EAAiD7E,EAAoB6D,EAAEe,GQ5O3EE,ERkPL,WQhPd,QAAAA,KAA0C,GAA7BhE,GAA6BiE,UAAAC,OAAA,OAAAC,KAAAF,UAAA,GAAAA,UAAA,OAAvBE,GAAWlE,EAAYgE,UAAAC,OAAA,OAAAC,KAAAF,UAAA,GAAAA,UAAA,GAAL,GAAKN,KAAAnE,KAAAwE,GACxCxE,KAAK4E,KAAOL,MAGR/D,GACFR,KAAK4E,KAAKC,SAASrE,GAGrBR,KAAK8E,QAAQrE,GRwYf,MAhJA4D,KAA0EG,IACxEjC,IAAK,UACLwC,MAAO,SQtPAtE,GACPT,KAAKgF,SAAqB,MAATvE,KRyPjB8B,IAAK,QACLwC,MAAO,WQrPP/E,KAAK4E,KAAKK,WRyPV1C,IAAK,UACLwC,MAAO,WQrPP,MAAO/E,MAAK4E,KAAKM,URyPjB3C,IAAK,SACLwC,MAAO,WQrPP,MAAO/E,MAAK4E,KAAKpE,SRyPjB+B,IAAK,aACLwC,MAAO,WQrPP,MAAO/E,MAAK4E,KAAKO,SAAUC,SAAS,ORyPpC7C,IAAK,WACLwC,MAAO,WQrPP,GAAMM,GAAQrF,KAAK4E,KAAKS,QAClBC,EAAatF,KAAKuF,sBAAsBF,EAE9C,OAAIrF,MAAKgF,SACAM,EAAWE,UAEXF,KR0PT/C,IAAK,wBACLwC,MAAO,SQtPcM,GAErB,IAAK,GADCC,MACGG,EAAI,EAAGA,EAAIJ,EAAMX,OAAQe,IAChC,IAAK,GAAIC,GAAI,EAAGA,EAAIL,EAAMI,GAAGf,OAAQgB,IACnCJ,EAAWK,MACTnD,GAAS,EAAJiD,EAASC,EACd1D,MAAOqD,EAAMI,GAAGC,IAItB,OAAOJ,MRyPP/C,IAAK,gBACLwC,MAAO,SQtPMa,EAAaC,GAC1B,GAAMC,GAAY9F,KAAK+F,0BAA0BH,GAC3CI,EAAYhG,KAAK+F,0BAA0BF,EAEjD,OAAO7F,MAAK4E,KAAKqB,MACfC,KAAMJ,EACNK,GAAIH,EACJI,UAAW,SR0Pb7D,IAAK,oBACLwC,MAAO,SQtPUsB,GAAO,GAAAC,GAAAtG,IAQxB,OAPcA,MAAK4E,KAAK2B,OACtBhF,OAAQvB,KAAK+F,0BAA0BM,GACvCjB,SAAS,IAGeoB,IAAI,SAACP,GAAD,MAAUK,GAAKG,0BAA0BR,EAAKE,SR+P5E5D,IAAK,iBACLwC,MAAO,SQ1POsB,GACd,GAAIK,GAAMC,KAAKC,MAAMP,EAAQ,GACzBQ,EAASR,EAAQ,CAOrB,OALIrG,MAAKgF,WACP0B,EAAMC,KAAKG,IAAIJ,EAAM,GACrBG,EAASF,KAAKG,IAAID,EAAS,KAGpBH,MAAKG,aR6PdtE,IAAK,gBACLwC,MAAO,SQ1PMsB,GAAO,GAAAU,GACE/G,KAAKgH,eAAeX,EAC1C,KAFoBU,EACdL,IADcK,EACTF,QACU,GAAM,EACzB,OAAO,KRiQTtE,IAAK,4BACLwC,MAAO,SQ7PkBsB,GAAO,GAAAY,GACVjH,KAAKgH,eAAeX,GAApCK,EAD0BO,EAC1BP,IAAKG,EADqBI,EACrBJ,OACLK,EAASP,KAAKG,IAAIJ,EAAM,GAAK,CAEnC,UADeS,OAAOC,aAAa,GAAKP,GACrBK,KRmQnB3E,IAAK,4BACLwC,MAAO,WQhQyC,GAAvBsC,GAAuB5C,UAAAC,OAAA,OAAAC,KAAAF,UAAA,GAAAA,UAAA,GAAN,KAAM6C,EACxBtH,KAAKuH,gCAAgCF,GAArDX,EADwCY,EACxCZ,IAAKG,EADmCS,EACnCT,OACTR,EAAQM,KAAKG,IAAID,EAAS,GAAY,EAANH,CAEpC,OADAL,GAAQM,KAAKG,IAAIT,EAAQ,ORyQzB9D,IAAK,kCACLwC,MAAO,WQtQ+C,GAAvBsC,GAAuB5C,UAAAC,OAAA,OAAAC,KAAAF,UAAA,GAAAA,UAAA,GAAN,KAC5CoC,EAASQ,EAAeG,cAAcC,WAAW,GAAK,GACtDf,EAAMzC,IAAgBoD,EAAe,IAAM,CAO/C,OALIrH,MAAKgF,WACP6B,EAASF,KAAKG,IAAID,EAAS,GAC3BH,EAAMC,KAAKG,IAAIJ,EAAM,KAGdA,MAAKG,cR4QTrC,IAGoBtB,GAAuB,EAAI,GAIlDwE,GACA,SAAUrI,EAAQ6D,EAAqBxD,GAE7C,YACAiI,QAAOC,eAAe1E,EAAqB,cAAgB6B,OAAO,GAC7C,IAAI5B,GAAoCzD,EAAoB,IACxDmI,EAAqCnI,EAAoB,IACzDoI,EAA6CpI,EAAoB6D,EAAEsE,GACnEE,EAAwCrI,EAAoB,GS9ZrFyD,GAAA,EAAI6E,OAAOC,eAAgB,EAG3B,GAAI9E,GAAA,GACF+E,GAAI,OACJC,OAAAJ,EAAA,EACAK,SAAU,SACVC,YAAcC,IAAAR,EAAAjE,MTyaV0E,GACA,SAAUlJ,EAAQ6D,EAAqBxD,GAE7C,YACqB,IAAI8I,GAAqE9I,EAAoB,IACzF+I,EAA6E/I,EAAoB6D,EAAEiF,GACnGE,EAAkEhJ,EAAoB,IACtFiJ,EAA0EjJ,EAAoB6D,EAAEmF,GAChGE,EAAsClJ,EAAoB,IAC1DmJ,EAA8CnJ,EAAoB6D,EAAEqF,GAKzFE,EAAS,WUncX,QAAAA,KAA0D,GAA7CC,GAA6CtE,UAAAC,OAAA,OAAAC,KAAAF,UAAA,GAAAA,UAAA,GAAvC,qCAAuCgE,KAAAzI,KAAA8I,GACxD9I,KAAKgJ,QAAUD,EVodjB,MATAJ,KAA0EG,IACxEvG,IAAK,cACLwC,MAAO,SU1cIkE,GAAqB,GAAhBC,GAAgBzE,UAAAC,OAAA,OAAAC,KAAAF,UAAA,GAAAA,UAAA,GAAH,CAC7B,OAAOoE,GAAAhF,EAAMsF,IAAOnJ,KAAKgJ,QAAlB,aAAwCI,QAAUH,MAAKC,oBVgdzDJ,IAGoB5F,GAAuB,EAAI,GAIlDmG,GACA,SAAUhK,EAAQ6D,EAAqBxD,GAE7C,YACAiI,QAAOC,eAAe1E,EAAqB,cAAgB6B,OAAO,IW5dlE7B,EAAA,SACAb,KAAA,QXoeMiH,GACA,SAAUjK,EAAQ6D,EAAqBxD,GAE7C,YACAiI,QAAOC,eAAe1E,EAAqB,cAAgB6B,OAAO,GAC7C,IAAIwE,GAAmE7J,EAAoB,IACvF8J,EAA2E9J,EAAoB6D,EAAEgG,GACjGE,EAAiD/J,EAAoB,GY7e9FwD,GAAA,SACEb,KAAM,aACNqH,OACElJ,KACEmJ,KAAMxC,OACNyC,QAAS,MAEXnJ,MACEkJ,KAAMxC,OACNyC,QAAS,KAEXrJ,SACEoJ,KAAMxC,OACNyC,QAAS,kBAGbC,KAhBa,WAiBX,OACElI,UAAW,KACXmI,kBACA5H,eAAgB,EAChB6H,aACEC,OAAQ,QACRC,MAAO,WAIbC,UAEE7E,MAFQ,WAGN,MAAOrF,MAAK2B,UAAUwI,YAGxBjF,KANQ,WAON,MAAOlF,MAAK2B,UAAUyI,WAExBC,SATQ,WAUN,MAAQrK,MAAKS,KAAOT,KAAK2B,UAAUyI,YAGvCE,OAEE9J,IAAO,SAAU+J,EAAQC,GACvBxK,KAAKyK,UAAUF,IAIjB9J,KAAQ,SAAU8J,EAAQC,GAExBxK,KAAK2B,UAAUmD,QAAQyF,GACvBvK,KAAKkC,eAAiB,EACtBlC,KAAK8J,oBAGTY,QAtDa,WAwDX1K,KAAK2B,UAAY,GAAI8H,GAAA,EAAUzJ,KAAKQ,IAAKR,KAAKS,OAEhDkK,QA1Da,WA0DF,GAAArE,GAAAtG,IAETA,MAAK4K,UAAU,WAEbC,OAAOC,iBAAiB,SAAUxE,EAAKyE,gBACvCzE,EAAKyE,oBAGTC,SAEED,eAFO,SAESE,GACd,GAAM5F,GAAQrF,KAAKkL,MAAM7F,KACzB,IAAIA,EAAO,CAET,GAAI8F,IAAoB9F,EAAM+F,YAAc,GAAK,CAEjDpL,MAAK+J,aACHC,OAAWmB,EAAX,KACAlB,MAAUkB,EAAV,QAMNE,aAhBO,SAgBOC,GACZ,GAAMC,GAAWvL,KAAK2B,UAAU8E,0BAA0B6E,EAAQpF,MAC5DL,EAAc7F,KAAK2B,UAAU8E,0BAA0B6E,EAAQnF,GACrEnG,MAAKwL,UAAUD,EAAU1F,IAI3B9D,gBAvBO,SAuBUsE,GACf,OAAuC,IAA/BrG,KAAK8J,eAAezD,IAI9BoE,UA5BO,SA4BIgB,GACTzL,KAAKkC,eAAiB,EACtBlC,KAAK8J,iBAEL,IAAM4B,GAAU,GAAIjC,GAAA,EAAUgC,GAGxBE,EAAaD,EAAQE,aACrBC,EAAa7L,KAAK2B,UAAUiK,YAG9BD,GAAWjH,SAAWmH,EAAWnH,OAAS,EAC5C1E,KAAKqL,aAAaM,EAAWG,OAGpBH,EAAWjH,SAAWmH,EAAWnH,SAC1C1E,KAAK2B,UAAY,GAAI8H,GAAA,EAAUzJ,KAAKQ,IAAKR,KAAKS,QAKlDoC,QAjDO,SAiDEtB,GACP,GAAIA,EAAOS,MACT,MAAOhC,MAAKO,QAAL,GAAkBgB,EAAOS,MAAM+J,MAAQxK,EAAOS,MAAM2H,KAApD,QAKX1E,MAxDO,WAyDLjF,KAAK2B,UAAUsD,QACfjF,KAAKgM,aAIPC,KA9DO,WA8D2B,GAA5BC,GAA4BzH,UAAAC,OAAA,OAAAC,KAAAF,UAAA,GAAAA,UAAA,GAAjB,EAAG0H,EAAc1H,UAAAC,OAAA,OAAAC,KAAAF,UAAA,GAAAA,UAAA,GAAH,EACvB2H,EAAOpM,KAAKqF,MAAM8G,EACxBnM,MAAKqM,KAAKrM,KAAKqF,MAAO8G,EAAUnM,KAAKqF,MAAM6G,IAC3ClM,KAAKqM,KAAKrM,KAAKqF,MAAO6G,EAAUE,IAIlCZ,UArEO,SAqEIc,EAAQC,GAAQ,GAAAC,GAAAxM,IACVA,MAAK2B,UAAU8K,cAAcH,EAAQC,IAIlDvM,KAAKiM,KAAKM,EAAQD,GAClBtM,KAAKgM,YACLhM,KAAK8J,kBACL9J,KAAKkC,eAAiB,EAGtBwK,WAAW,iBAAMF,GAAKG,MAAM,SAAUH,EAAK7K,UAAUiL,WAAW,OAEhE5M,KAAKkC,eAAiB,EACtBlC,KAAK2C,eAAe4J,KAKxBP,UAxFO,WAgGL,IAAK,GADCa,GAAe7M,KAAK2B,UAAUwI,WAC3B1E,EAAI,EAAGA,EAAIoH,EAAanI,OAAQe,IACnCzF,KAAKqF,MAAMI,GAAGzD,QAAU6K,EAAapH,GAAGzD,QAC1ChC,KAAKqF,MAAMI,GAAGzD,MAAQ6K,EAAapH,GAAGzD,QAM5C8K,sBAxGO,WAyGL,GAAMvG,GAAQvG,KAAK2B,UAAUoL,kBAAkB/M,KAAKkC,cAEpD,IAAIqE,EAAM7B,OAAS,EAEjB1E,KAAKkC,eAAiB,MACjB,IAAA8K,IAAA,EAAAC,GAAA,EAAAC,MAAAvI,EAAA,KAEL,OAAAwI,GAAAC,EAAA5D,IAAiBjD,KAAjByG,GAAAG,EAAAC,EAAAC,QAAAC,MAAAN,GAAA,EAAwB,IAAf/G,GAAekH,EAAApI,KAEtB/E,MAAKqM,KAAKrM,KAAK8J,eAAgB7D,GAAM,IAJlC,MAAAsH,GAAAN,GAAA,EAAAC,EAAAK,EAAA,aAAAP,GAAAI,EAAAI,QAAAJ,EAAAI,SAAA,WAAAP,EAAA,KAAAC,OASTnK,KAvHO,SAuHDsD,GACJrG,KAAK2C,eAAe0D,IAGtB3D,SA3HO,SA2HG2D,GACRoH,QAAQC,IAAIrH,IAId1D,eAhIO,SAgIS0D,GACVrG,KAAKqK,WACPrK,KAAK8J,kBACD9J,KAAKkC,gBAAkBmE,EACzBrG,KAAKkC,eAAiB,EACblC,KAAKkC,cAAgB,EAC9BlC,KAAKwL,UAAUxL,KAAKkC,cAAemE,IAEnCrG,KAAKkC,cAAgBmE,EACrBrG,KAAK8M,8BZ0eTa,GACA,SAAUtO,EAAQ6D,EAAqBxD,GAE7C,YACAiI,QAAOC,eAAe1E,EAAqB,cAAgB6B,OAAO,GAC7C,IAAI6I,GAAsElO,EAAoB,KAC1FmO,EAA8EnO,EAAoB6D,EAAEqK,GACpGE,EAAwDpO,EAAoB,IAC5EqO,EAAyCrO,EAAoB,IAC7DsO,EAAiDtO,EAAoB6D,EAAEwK,Ea5rBhG7K,GAAA,SACEb,KAAM,QACNgG,YACE4F,WAAAJ,EAAAhK,GAEFgG,KALa,WAMX,OACErJ,QAAKmE,GACLuJ,OAAQvH,KAAKC,MAAsB,IAAhBD,KAAKwH,UACxB1N,KAAM,IACN2N,WAAW,EACX7N,QAAS,kBAGb2J,UACEtF,KADQ,WAEN,GAAMyJ,GAAQL,KAEd,OADAK,GAAMxJ,SAAS7E,KAAKQ,KACb6N,IAGX3D,QArBa,WAsBX1K,KAAK0L,UACL1L,KAAKsO,aAAe,GAAIR,GAAA,GAE1B9C,SACEU,QADO,WAEL,GAAM2C,GAAQL,KACdhO,MAAKQ,IAAM6N,EAAM7N,OAEnBK,YALO,SAKML,GAAK,GAAA8F,GAAAtG,IAChBA,MAAKQ,IAAMA,EAEPR,KAAKoO,UACP1B,WAAW1M,KAAKuO,UAAW,KAClBvO,KAAK4E,KAAKM,SAAWlF,KAAKS,MACnCT,KAAKsO,aAAaE,YAAYxO,KAAK4E,KAAKqE,OAAOwF,KAAK,SAAAC,GAClDjB,QAAQC,IAAIgB,GACZpI,EAAKL,KAAKyI,EAAS7E,SAKzB0E,UAlBO,WAmBa,MAAdvO,KAAKS,KACPT,KAAKS,KAAO,IAEZT,KAAKS,KAAO,KAGhBQ,WAzBO,WA0BL,GAAMsF,GAAQvG,KAAK4E,KAAK2B,QAClBN,EAAOM,EAAMI,KAAKC,MAAMD,KAAKwH,UAAY5H,EAAM7B,OAAS,IAC9D1E,MAAKiG,KAAKA,IAEZA,KA9BO,SA8BDA,GACJ,GAAM0I,GAAS3O,KAAK4E,KAAKqB,KAAKA,GAAO2I,QAAQ,GAC7CnB,SAAQC,IAAIiB,GACZ3O,KAAKQ,IAAMR,KAAK4E,KAAKpE,OAEvByE,MAnCO,WAoCL,GAAMoJ,GAAQrO,KAAK0L,SACnB1L,MAAKQ,IAAM6N,EAAM7N,Yb4sBpB","file":"static/js/app.7a1afd90170ea803897e.js","sourcesContent":["webpackJsonp([1],{\n\n/***/ 105:\n/***/ (function(module, exports) {\n\n// removed by extract-text-webpack-plugin\n\n/***/ }),\n\n/***/ 106:\n/***/ (function(module, exports) {\n\n// removed by extract-text-webpack-plugin\n\n/***/ }),\n\n/***/ 107:\n/***/ (function(module, exports) {\n\n// removed by extract-text-webpack-plugin\n\n/***/ }),\n\n/***/ 111:\n/***/ (function(module, exports, __webpack_require__) {\n\n\n/* styles */\n__webpack_require__(106)\n\nvar Component = __webpack_require__(19)(\n  /* script */\n  __webpack_require__(64),\n  /* template */\n  __webpack_require__(114),\n  /* scopeId */\n  \"data-v-4ea50242\",\n  /* cssModules */\n  null\n)\n\nmodule.exports = Component.exports\n\n\n/***/ }),\n\n/***/ 112:\n/***/ (function(module, exports, __webpack_require__) {\n\n\n/* styles */\n__webpack_require__(105)\n\nvar Component = __webpack_require__(19)(\n  /* script */\n  __webpack_require__(65),\n  /* template */\n  __webpack_require__(113),\n  /* scopeId */\n  \"data-v-19e8e44a\",\n  /* cssModules */\n  null\n)\n\nmodule.exports = Component.exports\n\n\n/***/ }),\n\n/***/ 113:\n/***/ (function(module, exports) {\n\nmodule.exports={render:function (){var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;\n  return _c('div', {\n    staticClass: \"page-container\"\n  }, [_c('chessboard', {\n    staticClass: \"chessboard\",\n    attrs: {\n      \"iconDir\": _vm.iconDir,\n      \"pgn\": _vm.pgn,\n      \"side\": _vm.side\n    },\n    on: {\n      \"change\": function($event) {\n        _vm.boardChange($event)\n      }\n    }\n  }), _vm._v(\" \"), _c('div', {\n    staticClass: \"controls\"\n  }, [_c('table', [_c('tbody', [_vm._m(0), _vm._v(\" \"), _vm._m(1), _vm._v(\" \"), _c('a', {\n    staticClass: \"button\",\n    on: {\n      \"click\": function($event) {\n        _vm.randomMove()\n      }\n    }\n  }, [_vm._v(\"Test Stockfish API\")]), _vm._v(\" \"), _vm._m(2)])])])], 1)\n},staticRenderFns: [function (){var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;\n  return _c('tr', [_c('img', {\n    attrs: {\n      \"src\": \"https://media.giphy.com/media/l3q2zVr6cu95nF6O4/giphy.gif\"\n    }\n  })])\n},function (){var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;\n  return _c('tr', [_c('h2', [_vm._v(\"PARTY PARROT CHESS\")])])\n},function (){var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;\n  return _c('tr', [_c('h6', [_vm._v(\"Made using Chode.js\")])])\n}]}\n\n/***/ }),\n\n/***/ 114:\n/***/ (function(module, exports) {\n\nmodule.exports={render:function (){var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;\n  return _c('div', {\n    staticClass: \"chessboard-container\"\n  }, [_c('div', {\n    ref: \"board\",\n    staticClass: \"board board-background\"\n  }, _vm._l((_vm.board), function(square, squareIndex) {\n    return _c('div', {\n      staticClass: \"square\",\n      class: {\n        'board-square-dark': !_vm.chessGame.isSquareLight(squareIndex),\n          'board-square-light': _vm.chessGame.isSquareLight(squareIndex),\n          'highlighted-red': _vm.isAvailableMove(squareIndex) && square.piece,\n          'highlighted-yellow': (_vm.selectedIndex === squareIndex)\n      },\n      style: (_vm.squareStyle)\n    }, [(_vm.isAvailableMove(squareIndex) && !square.piece) ? _c('i', {\n      staticClass: \"circle\"\n    }) : _vm._e()])\n  })), _vm._v(\" \"), _c('transition-group', {\n    staticClass: \"board\",\n    attrs: {\n      \"name\": \"board-squares\",\n      \"tag\": \"div\"\n    }\n  }, _vm._l((_vm.board), function(square, squareIndex) {\n    return _c('div', {\n      key: square.id,\n      staticClass: \"square\",\n      style: (_vm.squareStyle),\n      on: {\n        \"dragover\": function($event) {\n          _vm.dragOver(squareIndex)\n        },\n        \"click\": function($event) {\n          _vm.squareSelected(squareIndex)\n        }\n      }\n    }, [(square.piece) ? _c('img', {\n      staticClass: \"piece\",\n      attrs: {\n        \"draggable\": \"true\",\n        \"src\": _vm.getIcon(square)\n      },\n      on: {\n        \"dragstart\": function($event) {\n          _vm.drag(squareIndex)\n        }\n      }\n    }) : _vm._e()])\n  }))], 1)\n},staticRenderFns: []}\n\n/***/ }),\n\n/***/ 115:\n/***/ (function(module, exports) {\n\nmodule.exports={render:function (){var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;\n  return _c('div', {\n    attrs: {\n      \"id\": \"app\"\n    }\n  }, [_c('router-view')], 1)\n},staticRenderFns: []}\n\n/***/ }),\n\n/***/ 40:\n/***/ (function(module, __webpack_exports__, __webpack_require__) {\n\n\"use strict\";\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0_vue__ = __webpack_require__(20);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_1_vue_router__ = __webpack_require__(116);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_2__pages_chess_chess_vue__ = __webpack_require__(112);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_2__pages_chess_chess_vue___default = __webpack_require__.n(__WEBPACK_IMPORTED_MODULE_2__pages_chess_chess_vue__);\n\n\n\n\n__WEBPACK_IMPORTED_MODULE_0_vue__[\"a\" /* default */].use(__WEBPACK_IMPORTED_MODULE_1_vue_router__[\"a\" /* default */]);\n\n/* harmony default export */ __webpack_exports__[\"a\"] = (new __WEBPACK_IMPORTED_MODULE_1_vue_router__[\"a\" /* default */]({\n  mode: 'history',\n  routes: [{\n    path: '/',\n    name: 'Chess',\n    component: __WEBPACK_IMPORTED_MODULE_2__pages_chess_chess_vue___default.a\n  }]\n}));\n\n/***/ }),\n\n/***/ 41:\n/***/ (function(module, exports, __webpack_require__) {\n\n\n/* styles */\n__webpack_require__(107)\n\nvar Component = __webpack_require__(19)(\n  /* script */\n  __webpack_require__(63),\n  /* template */\n  __webpack_require__(115),\n  /* scopeId */\n  null,\n  /* cssModules */\n  null\n)\n\nmodule.exports = Component.exports\n\n\n/***/ }),\n\n/***/ 60:\n/***/ (function(module, __webpack_exports__, __webpack_require__) {\n\n\"use strict\";\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0_babel_runtime_core_js_number_parse_int__ = __webpack_require__(67);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0_babel_runtime_core_js_number_parse_int___default = __webpack_require__.n(__WEBPACK_IMPORTED_MODULE_0_babel_runtime_core_js_number_parse_int__);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_1_babel_runtime_helpers_classCallCheck__ = __webpack_require__(26);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_1_babel_runtime_helpers_classCallCheck___default = __webpack_require__.n(__WEBPACK_IMPORTED_MODULE_1_babel_runtime_helpers_classCallCheck__);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_2_babel_runtime_helpers_createClass__ = __webpack_require__(27);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_2_babel_runtime_helpers_createClass___default = __webpack_require__.n(__WEBPACK_IMPORTED_MODULE_2_babel_runtime_helpers_createClass__);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_3_chess_js__ = __webpack_require__(28);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_3_chess_js___default = __webpack_require__.n(__WEBPACK_IMPORTED_MODULE_3_chess_js__);\n\n\n\n\n\nvar ChessGame = function () {\n  function ChessGame() {\n    var pgn = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : undefined;\n    var side = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : 'w';\n\n    __WEBPACK_IMPORTED_MODULE_1_babel_runtime_helpers_classCallCheck___default()(this, ChessGame);\n\n    this.game = __WEBPACK_IMPORTED_MODULE_3_chess_js___default()();\n\n    if (pgn) {\n      this.game.load_pgn(pgn);\n    }\n\n    this.setSide(side);\n  }\n\n  __WEBPACK_IMPORTED_MODULE_2_babel_runtime_helpers_createClass___default()(ChessGame, [{\n    key: 'setSide',\n    value: function setSide(side) {\n      this.reversed = side === 'b';\n    }\n  }, {\n    key: 'reset',\n    value: function reset() {\n      this.game.reset();\n    }\n  }, {\n    key: 'getTurn',\n    value: function getTurn() {\n      return this.game.turn();\n    }\n  }, {\n    key: 'getPGN',\n    value: function getPGN() {\n      return this.game.pgn();\n    }\n  }, {\n    key: 'getHistory',\n    value: function getHistory() {\n      return this.game.history({ verbose: true });\n    }\n  }, {\n    key: 'getBoard',\n    value: function getBoard() {\n      var board = this.game.board();\n      var boardArray = this.transformBoardToArray(board);\n\n      if (this.reversed) {\n        return boardArray.reverse();\n      } else {\n        return boardArray;\n      }\n    }\n  }, {\n    key: 'transformBoardToArray',\n    value: function transformBoardToArray(board) {\n      var boardArray = [];\n      for (var i = 0; i < board.length; i++) {\n        for (var j = 0; j < board[i].length; j++) {\n          boardArray.push({\n            id: i * 8 + j,\n            piece: board[i][j]\n          });\n        }\n      }\n      return boardArray;\n    }\n  }, {\n    key: 'calculateMove',\n    value: function calculateMove(sourceIndex, targetIndex) {\n      var sourceStr = this.getPositionStringForIndex(sourceIndex);\n      var targetStr = this.getPositionStringForIndex(targetIndex);\n\n      return this.game.move({\n        from: sourceStr,\n        to: targetStr,\n        promotion: 'q'\n      });\n    }\n  }, {\n    key: 'getAvailableMoves',\n    value: function getAvailableMoves(index) {\n      var _this = this;\n\n      var moves = this.game.moves({\n        square: this.getPositionStringForIndex(index),\n        verbose: true\n      });\n\n      var moveIndeces = moves.map(function (move) {\n        return _this.getIndexForPositionString(move.to);\n      });\n\n      return moveIndeces;\n    }\n  }, {\n    key: 'getCoordinates',\n    value: function getCoordinates(index) {\n      var row = Math.floor(index / 8);\n      var column = index % 8;\n\n      if (this.reversed) {\n        row = Math.abs(row - 7);\n        column = Math.abs(column - 7);\n      }\n\n      return { row: row, column: column };\n    }\n  }, {\n    key: 'isSquareLight',\n    value: function isSquareLight(index) {\n      var _getCoordinates = this.getCoordinates(index),\n          row = _getCoordinates.row,\n          column = _getCoordinates.column;\n\n      if ((row + column) % 2 === 0) {\n        return true;\n      }\n    }\n  }, {\n    key: 'getPositionStringForIndex',\n    value: function getPositionStringForIndex(index) {\n      var _getCoordinates2 = this.getCoordinates(index),\n          row = _getCoordinates2.row,\n          column = _getCoordinates2.column;\n\n      var number = Math.abs(row - 7) + 1;\n      var letter = String.fromCharCode(97 + column);\n      return '' + letter + number;\n    }\n  }, {\n    key: 'getIndexForPositionString',\n    value: function getIndexForPositionString() {\n      var positionString = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : 'a1';\n\n      var _getCoordinatesForPos = this.getCoordinatesForPositionString(positionString),\n          row = _getCoordinatesForPos.row,\n          column = _getCoordinatesForPos.column;\n\n      var index = Math.abs(column - 8) + row * 8;\n      index = Math.abs(index - 64);\n      return index;\n    }\n  }, {\n    key: 'getCoordinatesForPositionString',\n    value: function getCoordinatesForPositionString() {\n      var positionString = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : 'a1';\n\n      var column = positionString.toLowerCase().charCodeAt(0) - 97;\n      var row = __WEBPACK_IMPORTED_MODULE_0_babel_runtime_core_js_number_parse_int___default()(positionString[1]) - 1;\n\n      if (this.reversed) {\n        column = Math.abs(column - 7);\n        row = Math.abs(row - 7);\n      }\n\n      return { row: row, column: column };\n    }\n  }]);\n\n  return ChessGame;\n}();\n\n/* harmony default export */ __webpack_exports__[\"a\"] = (ChessGame);\n\n/***/ }),\n\n/***/ 61:\n/***/ (function(module, __webpack_exports__, __webpack_require__) {\n\n\"use strict\";\nObject.defineProperty(__webpack_exports__, \"__esModule\", { value: true });\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0_vue__ = __webpack_require__(20);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_1__App__ = __webpack_require__(41);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_1__App___default = __webpack_require__.n(__WEBPACK_IMPORTED_MODULE_1__App__);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_2__router__ = __webpack_require__(40);\n\n\n\n\n\n\n__WEBPACK_IMPORTED_MODULE_0_vue__[\"a\" /* default */].config.productionTip = false;\n\nnew __WEBPACK_IMPORTED_MODULE_0_vue__[\"a\" /* default */]({\n  el: '#app',\n  router: __WEBPACK_IMPORTED_MODULE_2__router__[\"a\" /* default */],\n  template: '<App/>',\n  components: { App: __WEBPACK_IMPORTED_MODULE_1__App___default.a }\n});\n\n/***/ }),\n\n/***/ 62:\n/***/ (function(module, __webpack_exports__, __webpack_require__) {\n\n\"use strict\";\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0_babel_runtime_helpers_classCallCheck__ = __webpack_require__(26);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0_babel_runtime_helpers_classCallCheck___default = __webpack_require__.n(__WEBPACK_IMPORTED_MODULE_0_babel_runtime_helpers_classCallCheck__);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_1_babel_runtime_helpers_createClass__ = __webpack_require__(27);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_1_babel_runtime_helpers_createClass___default = __webpack_require__.n(__WEBPACK_IMPORTED_MODULE_1_babel_runtime_helpers_createClass__);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_2_axios__ = __webpack_require__(42);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_2_axios___default = __webpack_require__.n(__WEBPACK_IMPORTED_MODULE_2_axios__);\n\n\n\n\nvar _class = function () {\n  function _class() {\n    var url = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : 'https://stockfish.patricktriest.com';\n\n    __WEBPACK_IMPORTED_MODULE_0_babel_runtime_helpers_classCallCheck___default()(this, _class);\n\n    this.baseurl = url;\n  }\n\n  __WEBPACK_IMPORTED_MODULE_1_babel_runtime_helpers_createClass___default()(_class, [{\n    key: 'getBestMove',\n    value: function getBestMove(fen) {\n      var difficulty = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : 3;\n\n      return __WEBPACK_IMPORTED_MODULE_2_axios___default.a.get(this.baseurl + '/bestmove', { params: { fen: fen, difficulty: difficulty } });\n    }\n  }]);\n\n  return _class;\n}();\n\n/* harmony default export */ __webpack_exports__[\"a\"] = (_class);\n\n/***/ }),\n\n/***/ 63:\n/***/ (function(module, __webpack_exports__, __webpack_require__) {\n\n\"use strict\";\nObject.defineProperty(__webpack_exports__, \"__esModule\", { value: true });\n\n\n/* harmony default export */ __webpack_exports__[\"default\"] = ({\n  name: 'app'\n});\n\n/***/ }),\n\n/***/ 64:\n/***/ (function(module, __webpack_exports__, __webpack_require__) {\n\n\"use strict\";\nObject.defineProperty(__webpack_exports__, \"__esModule\", { value: true });\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0_babel_runtime_core_js_get_iterator__ = __webpack_require__(66);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0_babel_runtime_core_js_get_iterator___default = __webpack_require__.n(__WEBPACK_IMPORTED_MODULE_0_babel_runtime_core_js_get_iterator__);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_1__utils_chessgame__ = __webpack_require__(60);\n\n\n\n/* harmony default export */ __webpack_exports__[\"default\"] = ({\n  name: 'chessboard',\n  props: {\n    pgn: {\n      type: String,\n      default: null\n    },\n    side: {\n      type: String,\n      default: 'w'\n    },\n    iconDir: {\n      type: String,\n      default: 'static/icons/'\n    }\n  },\n  data: function data() {\n    return {\n      chessGame: null,\n      availableMoves: {},\n      selectedIndex: -1,\n      squareStyle: {\n        height: '100px',\n        width: '100px'\n      }\n    };\n  },\n\n  computed: {\n    board: function board() {\n      return this.chessGame.getBoard();\n    },\n    turn: function turn() {\n      return this.chessGame.getTurn();\n    },\n    isActive: function isActive() {\n      return this.side = this.chessGame.getTurn();\n    }\n  },\n  watch: {\n    'pgn': function pgn(newVal, oldVal) {\n      this.syncToPgn(newVal);\n    },\n\n    'side': function side(newVal, oldVal) {\n      this.chessGame.setSide(newVal);\n      this.selectedIndex = -1;\n      this.availableMoves = {};\n    }\n  },\n  created: function created() {\n    this.chessGame = new __WEBPACK_IMPORTED_MODULE_1__utils_chessgame__[\"a\" /* default */](this.pgn, this.side);\n  },\n  mounted: function mounted() {\n    var _this = this;\n\n    this.$nextTick(function () {\n      window.addEventListener('resize', _this.getSquareStyle);\n      _this.getSquareStyle();\n    });\n  },\n\n  methods: {\n    getSquareStyle: function getSquareStyle(event) {\n      var board = this.$refs.board;\n      if (board) {\n        var squareEdgeLength = (board.offsetWidth - 1) / 8;\n\n        this.squareStyle = {\n          height: squareEdgeLength + 'px',\n          width: squareEdgeLength + 'px'\n        };\n      }\n    },\n    applyNewMove: function applyNewMove(newMove) {\n      var srcIndex = this.chessGame.getIndexForPositionString(newMove.from);\n      var targetIndex = this.chessGame.getIndexForPositionString(newMove.to);\n      this.movePiece(srcIndex, targetIndex);\n    },\n    isAvailableMove: function isAvailableMove(index) {\n      return this.availableMoves[index] === true;\n    },\n    syncToPgn: function syncToPgn(newPgn) {\n      this.selectedIndex = -1;\n      this.availableMoves = {};\n\n      var newGame = new __WEBPACK_IMPORTED_MODULE_1__utils_chessgame__[\"a\" /* default */](newPgn);\n\n      var newHistory = newGame.getHistory();\n      var oldHistory = this.chessGame.getHistory();\n\n      if (newHistory.length === oldHistory.length + 1) {\n        this.applyNewMove(newHistory.pop());\n      } else if (newHistory.length !== oldHistory.length) {\n        this.chessGame = new __WEBPACK_IMPORTED_MODULE_1__utils_chessgame__[\"a\" /* default */](this.pgn, this.side);\n      }\n    },\n    getIcon: function getIcon(square) {\n      if (square.piece) {\n        return this.iconDir + ('' + square.piece.color + square.piece.type + '.svg');\n      }\n    },\n    reset: function reset() {\n      this.chessGame.reset();\n      this.syncBoard();\n    },\n    swap: function swap() {\n      var oldIndex = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : 0;\n      var newIndex = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : 0;\n\n      var temp = this.board[newIndex];\n      this.$set(this.board, newIndex, this.board[oldIndex]);\n      this.$set(this.board, oldIndex, temp);\n    },\n    movePiece: function movePiece(source, target) {\n      var _this2 = this;\n\n      var result = this.chessGame.calculateMove(source, target);\n\n      if (result) {\n        this.swap(target, source);\n        this.syncBoard();\n        this.availableMoves = {};\n        this.selectedIndex = -1;\n        setTimeout(function () {\n          return _this2.$emit('change', _this2.chessGame.getPGN());\n        }, 200);\n      } else {\n        this.selectedIndex = -1;\n        this.squareSelected(target);\n      }\n    },\n    syncBoard: function syncBoard() {\n      var updatedBoard = this.chessGame.getBoard();\n      for (var i = 0; i < updatedBoard.length; i++) {\n        if (this.board[i].piece !== updatedBoard[i].piece) {\n          this.board[i].piece = updatedBoard[i].piece;\n        }\n      }\n    },\n    displayAvailableMoves: function displayAvailableMoves() {\n      var moves = this.chessGame.getAvailableMoves(this.selectedIndex);\n\n      if (moves.length < 1) {\n        this.selectedIndex = -1;\n      } else {\n        var _iteratorNormalCompletion = true;\n        var _didIteratorError = false;\n        var _iteratorError = undefined;\n\n        try {\n          for (var _iterator = __WEBPACK_IMPORTED_MODULE_0_babel_runtime_core_js_get_iterator___default()(moves), _step; !(_iteratorNormalCompletion = (_step = _iterator.next()).done); _iteratorNormalCompletion = true) {\n            var move = _step.value;\n\n            this.$set(this.availableMoves, move, true);\n          }\n        } catch (err) {\n          _didIteratorError = true;\n          _iteratorError = err;\n        } finally {\n          try {\n            if (!_iteratorNormalCompletion && _iterator.return) {\n              _iterator.return();\n            }\n          } finally {\n            if (_didIteratorError) {\n              throw _iteratorError;\n            }\n          }\n        }\n      }\n    },\n    drag: function drag(index) {\n      this.squareSelected(index);\n    },\n    dragOver: function dragOver(index) {\n      console.log(index);\n    },\n    squareSelected: function squareSelected(index) {\n      if (this.isActive) {\n        this.availableMoves = {};\n        if (this.selectedIndex === index) {\n          this.selectedIndex = -1;\n        } else if (this.selectedIndex > 0) {\n          this.movePiece(this.selectedIndex, index);\n        } else {\n          this.selectedIndex = index;\n          this.displayAvailableMoves();\n        }\n      }\n    }\n  }\n});\n\n/***/ }),\n\n/***/ 65:\n/***/ (function(module, __webpack_exports__, __webpack_require__) {\n\n\"use strict\";\nObject.defineProperty(__webpack_exports__, \"__esModule\", { value: true });\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0__components_chessboard_chessboard_vue__ = __webpack_require__(111);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0__components_chessboard_chessboard_vue___default = __webpack_require__.n(__WEBPACK_IMPORTED_MODULE_0__components_chessboard_chessboard_vue__);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_1__services_stockfish_api__ = __webpack_require__(62);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_2_chess_js__ = __webpack_require__(28);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_2_chess_js___default = __webpack_require__.n(__WEBPACK_IMPORTED_MODULE_2_chess_js__);\n\n\n\n\n\n\n/* harmony default export */ __webpack_exports__[\"default\"] = ({\n  name: 'chess',\n  components: {\n    Chessboard: __WEBPACK_IMPORTED_MODULE_0__components_chessboard_chessboard_vue___default.a\n  },\n  data: function data() {\n    return {\n      pgn: undefined,\n      userid: Math.floor(Math.random() * 1000),\n      side: 'w',\n      twoplayer: false,\n      iconDir: 'static/icons/' };\n  },\n\n  computed: {\n    game: function game() {\n      var chess = __WEBPACK_IMPORTED_MODULE_2_chess_js___default()();\n      chess.load_pgn(this.pgn);\n      return chess;\n    }\n  },\n  created: function created() {\n    this.newGame();\n    this.stockfishApi = new __WEBPACK_IMPORTED_MODULE_1__services_stockfish_api__[\"a\" /* default */]();\n  },\n\n  methods: {\n    newGame: function newGame() {\n      var chess = __WEBPACK_IMPORTED_MODULE_2_chess_js___default()();\n      this.pgn = chess.pgn();\n    },\n    boardChange: function boardChange(pgn) {\n      var _this = this;\n\n      this.pgn = pgn;\n\n      if (this.twoplayer) {\n        setTimeout(this.swapSides, 1000);\n      } else if (this.game.turn() !== this.side) {\n        this.stockfishApi.getBestMove(this.game.fen()).then(function (response) {\n          console.log(response);\n          _this.move(response.data);\n        });\n      }\n    },\n    swapSides: function swapSides() {\n      if (this.side === 'w') {\n        this.side = 'b';\n      } else {\n        this.side = 'w';\n      }\n    },\n    randomMove: function randomMove() {\n      var moves = this.game.moves();\n      var move = moves[Math.floor(Math.random() * (moves.length - 1))];\n      this.move(move);\n    },\n    move: function move(_move) {\n      var result = this.game.move(_move, { sloppy: true });\n      console.log(result);\n      this.pgn = this.game.pgn();\n    },\n    reset: function reset() {\n      var chess = this.newGame();\n      this.pgn = chess.pgn();\n    }\n  }\n});\n\n/***/ })\n\n},[61]);\n\n\n// WEBPACK FOOTER //\n// static/js/app.7a1afd90170ea803897e.js","\n/* styles */\nrequire(\"!!../../../node_modules/extract-text-webpack-plugin/loader.js?{\\\"omit\\\":1,\\\"remove\\\":true}!vue-style-loader!css-loader?{\\\"minimize\\\":true,\\\"sourceMap\\\":true}!../../../node_modules/vue-loader/lib/style-compiler/index?{\\\"id\\\":\\\"data-v-4ea50242\\\",\\\"scoped\\\":true,\\\"hasInlineConfig\\\":false}!sass-loader?{\\\"sourceMap\\\":true}!../../../node_modules/vue-loader/lib/selector?type=styles&index=0!./chessboard.vue\")\n\nvar Component = require(\"!../../../node_modules/vue-loader/lib/component-normalizer\")(\n  /* script */\n  require(\"!!babel-loader!./chessboard.js\"),\n  /* template */\n  require(\"!!../../../node_modules/vue-loader/lib/template-compiler/index?{\\\"id\\\":\\\"data-v-4ea50242\\\"}!../../../node_modules/vue-loader/lib/selector?type=template&index=0!./chessboard.vue\"),\n  /* scopeId */\n  \"data-v-4ea50242\",\n  /* cssModules */\n  null\n)\n\nmodule.exports = Component.exports\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/components/chessboard/chessboard.vue\n// module id = 111\n// module chunks = 1","\n/* styles */\nrequire(\"!!../../../node_modules/extract-text-webpack-plugin/loader.js?{\\\"omit\\\":1,\\\"remove\\\":true}!vue-style-loader!css-loader?{\\\"minimize\\\":true,\\\"sourceMap\\\":true}!../../../node_modules/vue-loader/lib/style-compiler/index?{\\\"id\\\":\\\"data-v-19e8e44a\\\",\\\"scoped\\\":true,\\\"hasInlineConfig\\\":false}!sass-loader?{\\\"sourceMap\\\":true}!../../../node_modules/vue-loader/lib/selector?type=styles&index=0!./chess.vue\")\n\nvar Component = require(\"!../../../node_modules/vue-loader/lib/component-normalizer\")(\n  /* script */\n  require(\"!!babel-loader!./chess.js\"),\n  /* template */\n  require(\"!!../../../node_modules/vue-loader/lib/template-compiler/index?{\\\"id\\\":\\\"data-v-19e8e44a\\\"}!../../../node_modules/vue-loader/lib/selector?type=template&index=0!./chess.vue\"),\n  /* scopeId */\n  \"data-v-19e8e44a\",\n  /* cssModules */\n  null\n)\n\nmodule.exports = Component.exports\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/pages/chess/chess.vue\n// module id = 112\n// module chunks = 1","module.exports={render:function (){var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;\n  return _c('div', {\n    staticClass: \"page-container\"\n  }, [_c('chessboard', {\n    staticClass: \"chessboard\",\n    attrs: {\n      \"iconDir\": _vm.iconDir,\n      \"pgn\": _vm.pgn,\n      \"side\": _vm.side\n    },\n    on: {\n      \"change\": function($event) {\n        _vm.boardChange($event)\n      }\n    }\n  }), _vm._v(\" \"), _c('div', {\n    staticClass: \"controls\"\n  }, [_c('table', [_c('tbody', [_vm._m(0), _vm._v(\" \"), _vm._m(1), _vm._v(\" \"), _c('a', {\n    staticClass: \"button\",\n    on: {\n      \"click\": function($event) {\n        _vm.randomMove()\n      }\n    }\n  }, [_vm._v(\"Test Stockfish API\")]), _vm._v(\" \"), _vm._m(2)])])])], 1)\n},staticRenderFns: [function (){var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;\n  return _c('tr', [_c('img', {\n    attrs: {\n      \"src\": \"https://media.giphy.com/media/l3q2zVr6cu95nF6O4/giphy.gif\"\n    }\n  })])\n},function (){var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;\n  return _c('tr', [_c('h2', [_vm._v(\"PARTY PARROT CHESS\")])])\n},function (){var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;\n  return _c('tr', [_c('h6', [_vm._v(\"Made using Chode.js\")])])\n}]}\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./~/vue-loader/lib/template-compiler?{\"id\":\"data-v-19e8e44a\"}!./~/vue-loader/lib/selector.js?type=template&index=0!./src/pages/chess/chess.vue\n// module id = 113\n// module chunks = 1","module.exports={render:function (){var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;\n  return _c('div', {\n    staticClass: \"chessboard-container\"\n  }, [_c('div', {\n    ref: \"board\",\n    staticClass: \"board board-background\"\n  }, _vm._l((_vm.board), function(square, squareIndex) {\n    return _c('div', {\n      staticClass: \"square\",\n      class: {\n        'board-square-dark': !_vm.chessGame.isSquareLight(squareIndex),\n          'board-square-light': _vm.chessGame.isSquareLight(squareIndex),\n          'highlighted-red': _vm.isAvailableMove(squareIndex) && square.piece,\n          'highlighted-yellow': (_vm.selectedIndex === squareIndex)\n      },\n      style: (_vm.squareStyle)\n    }, [(_vm.isAvailableMove(squareIndex) && !square.piece) ? _c('i', {\n      staticClass: \"circle\"\n    }) : _vm._e()])\n  })), _vm._v(\" \"), _c('transition-group', {\n    staticClass: \"board\",\n    attrs: {\n      \"name\": \"board-squares\",\n      \"tag\": \"div\"\n    }\n  }, _vm._l((_vm.board), function(square, squareIndex) {\n    return _c('div', {\n      key: square.id,\n      staticClass: \"square\",\n      style: (_vm.squareStyle),\n      on: {\n        \"dragover\": function($event) {\n          _vm.dragOver(squareIndex)\n        },\n        \"click\": function($event) {\n          _vm.squareSelected(squareIndex)\n        }\n      }\n    }, [(square.piece) ? _c('img', {\n      staticClass: \"piece\",\n      attrs: {\n        \"draggable\": \"true\",\n        \"src\": _vm.getIcon(square)\n      },\n      on: {\n        \"dragstart\": function($event) {\n          _vm.drag(squareIndex)\n        }\n      }\n    }) : _vm._e()])\n  }))], 1)\n},staticRenderFns: []}\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./~/vue-loader/lib/template-compiler?{\"id\":\"data-v-4ea50242\"}!./~/vue-loader/lib/selector.js?type=template&index=0!./src/components/chessboard/chessboard.vue\n// module id = 114\n// module chunks = 1","module.exports={render:function (){var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;\n  return _c('div', {\n    attrs: {\n      \"id\": \"app\"\n    }\n  }, [_c('router-view')], 1)\n},staticRenderFns: []}\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./~/vue-loader/lib/template-compiler?{\"id\":\"data-v-89770736\"}!./~/vue-loader/lib/selector.js?type=template&index=0!./src/App.vue\n// module id = 115\n// module chunks = 1","import Vue from 'vue'\nimport Router from 'vue-router'\nimport Chess from '@/pages/chess/chess.vue'\n\nVue.use(Router)\n\nexport default new Router({\n  mode: 'history',\n  routes: [\n    {\n      path: '/',\n      name: 'Chess',\n      component: Chess\n    }\n  ]\n})\n\n\n\n// WEBPACK FOOTER //\n// ./src/router/index.js","\n/* styles */\nrequire(\"!!../node_modules/extract-text-webpack-plugin/loader.js?{\\\"omit\\\":1,\\\"remove\\\":true}!vue-style-loader!css-loader?{\\\"minimize\\\":true,\\\"sourceMap\\\":true}!../node_modules/vue-loader/lib/style-compiler/index?{\\\"id\\\":\\\"data-v-89770736\\\",\\\"scoped\\\":false,\\\"hasInlineConfig\\\":false}!sass-loader?{\\\"sourceMap\\\":true}!./global.scss\")\n\nvar Component = require(\"!../node_modules/vue-loader/lib/component-normalizer\")(\n  /* script */\n  require(\"!!babel-loader!../node_modules/vue-loader/lib/selector?type=script&index=0!./App.vue\"),\n  /* template */\n  require(\"!!../node_modules/vue-loader/lib/template-compiler/index?{\\\"id\\\":\\\"data-v-89770736\\\"}!../node_modules/vue-loader/lib/selector?type=template&index=0!./App.vue\"),\n  /* scopeId */\n  null,\n  /* cssModules */\n  null\n)\n\nmodule.exports = Component.exports\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/App.vue\n// module id = 41\n// module chunks = 1","import Chess from 'chess.js'\n\n/**\n* Parrot Chess Helpers\n */\nexport default class ChessGame {\n  /** Contructor - Initialize a new game, optionally with the provided pgn record */\n  constructor (pgn = undefined, side = 'w') {\n    this.game = Chess()\n\n     /** TODO: Set up PGN compatibility! */\n    if (pgn) {\n      this.game.load_pgn(pgn)\n    }\n\n    this.setSide(side)\n  }\n\n  /** Set the reversed memeber based on the side ('white' or 'black') */\n  setSide (side) {\n    this.reversed = (side === 'b')\n  }\n\n  /** Reset the game */\n  reset () {\n    this.game.reset()\n  }\n\n  /** Get the side whose turn it is ('w' or 'b') */\n  getTurn () {\n    return this.game.turn()\n  }\n\n  /** Get the pgn string for the current game  */\n  getPGN () {\n    return this.game.pgn()\n  }\n\n  /** Get the history for the current game */\n  getHistory () {\n    return this.game.history({ verbose: true })\n  }\n\n  /** Get the board array to be rendered */\n  getBoard () {\n    const board = this.game.board()\n    const boardArray = this.transformBoardToArray(board)\n\n    if (this.reversed) {\n      return boardArray.reverse()\n    } else {\n      return boardArray\n    }\n  }\n\n  /** Convert the 2d board into array with unique ids */\n  transformBoardToArray (board) {\n    const boardArray = []\n    for (let i = 0; i < board.length; i++) {\n      for (let j = 0; j < board[i].length; j++) {\n        boardArray.push({\n          id: (i * 8) + j, // id will be equal to the original index position\n          piece: board[i][j]\n        })\n      }\n    }\n    return boardArray\n  }\n\n  /** Calculate a move from one array index to another */\n  calculateMove (sourceIndex, targetIndex) {\n    const sourceStr = this.getPositionStringForIndex(sourceIndex)\n    const targetStr = this.getPositionStringForIndex(targetIndex)\n\n    return this.game.move({\n      from: sourceStr,\n      to: targetStr,\n      promotion: 'q'\n    })\n  }\n\n  // Get all available moves for parrots within a given index\n  getAvailableMoves (index) {\n    const moves = this.game.moves({\n      square: this.getPositionStringForIndex(index),\n      verbose: true\n    })\n\n    const moveIndeces = moves.map((move) => this.getIndexForPositionString(move.to))\n\n    return moveIndeces\n  }\n\n  /** Get the x, y coordinates for an array index (based on an 8x8 grid)  */\n  getCoordinates (index) {\n    let row = Math.floor(index / 8)\n    let column = index % 8\n\n    if (this.reversed) {\n      row = Math.abs(row - 7)\n      column = Math.abs(column - 7)\n    }\n\n    return { row, column }\n  }\n\n  /** Check if a given index should have a light or dark background color */\n  isSquareLight (index) {\n    let { row, column } = this.getCoordinates(index)\n    if ((row + column) % 2 === 0) {\n      return true\n    }\n  }\n\n  /** Get a position string from an array index */\n  getPositionStringForIndex (index) {\n    let { row, column } = this.getCoordinates(index)\n    const number = Math.abs(row - 7) + 1\n    const letter = String.fromCharCode(97 + column)\n    return `${letter}${number}`\n  }\n\n  /** Get an array index, from given position string, eg a1 */\n  getIndexForPositionString (positionString = 'a1') {\n    const { row, column } = this.getCoordinatesForPositionString(positionString)\n    let index = Math.abs(column - 8) + (row * 8)\n    index = Math.abs(index - 64)\n    return index\n  }\n\n  getCoordinatesForPositionString (positionString = 'a1') {\n    let column = positionString.toLowerCase().charCodeAt(0) - 97\n    let row = Number.parseInt(positionString[1]) - 1\n\n    if (this.reversed) {\n      column = Math.abs(column - 7)\n      row = Math.abs(row - 7)\n    }\n\n    return { row, column }\n  }\n}\n\n\n\n// WEBPACK FOOTER //\n// ./src/components/chessboard/utils/chessgame.js","// The Vue build version to load with the `import` command\n// (runtime-only or standalone) has been set in webpack.base.conf with an alias.\n// Had to implement the no new for es lint as it was stopping the parrot fun from commencing!\nimport Vue from 'vue'\nimport App from './App'\n\nimport router from './router'\n\nVue.config.productionTip = false\n\n/* eslint-disable no-new */\nnew Vue({\n  el: '#app',\n  router,\n  template: '<App/>',\n  components: { App }\n})\n\n\n\n// WEBPACK FOOTER //\n// ./src/main.js","import axios from 'axios'\n\nexport default class {\n  constructor (url = 'https://stockfish.patricktriest.com') {\n    this.baseurl = url\n  }\n\n  getBestMove (fen, difficulty = 3) {\n    return axios.get(`${this.baseurl}/bestmove`, { params: { fen, difficulty } })\n  }\n}\n\n\n\n// WEBPACK FOOTER //\n// ./src/services/stockfish-api.js","<template>\n  <div id=\"app\">\n    <router-view></router-view>\n  </div>\n</template>\n\n<script>\nexport default {\n  name: 'app'\n}\n</script>\n\n<style src=\"./global.scss\" lang=\"scss\"></style>\n\n\n\n// WEBPACK FOOTER //\n// App.vue?173be004","import ChessGame from './utils/chessgame'\n\n/**\n * Chessboard VueJS Component.\n * Takes a PGN string and a side (w or b) as props\n */\nexport default {\n  name: 'chessboard',\n  props: {\n    pgn: { // PGN is a string encoded with the current game state\n      type: String,\n      default: null\n    },\n    side: { // Side is either 'w' or 'b', and determines which board orientation to display\n      type: String,\n      default: 'w'\n    },\n    iconDir: {\n      type: String,\n      default: 'static/icons/'\n    }\n  },\n  data () {\n    return {\n      chessGame: null, // the game logic class. Always null on init\n      availableMoves: {}, // key/value obj of available moves\n      selectedIndex: -1, // the currently selected square index\n      squareStyle: { // Square style - values will be reset whenever window is resized\n        height: '100px',\n        width: '100px'\n      }\n    }\n  },\n  computed: {\n    /** Return the board array to be displayed.  Board is an array of squares, some with pieces */\n    board () {\n      return this.chessGame.getBoard()\n    },\n    /** Return 'w' or 'b' if it is white or black's turn respectively */\n    turn () {\n      return this.chessGame.getTurn()\n    },\n    isActive () {\n      return (this.side = this.chessGame.getTurn())\n    }\n  },\n  watch: {\n    /** TODO: Watch the PGN property so that the game can receive new moves from outside the component */\n    'pgn': function (newVal, oldVal) {\n      this.syncToPgn(newVal)\n    },\n\n    /** Watch the side property so that the UI reflects side-swaps */\n    'side': function (newVal, oldVal) {\n      // Set the board orientation whenever the side changes\n      this.chessGame.setSide(newVal)\n      this.selectedIndex = -1\n      this.availableMoves = {}\n    }\n  },\n  created () {\n    // Initialize a new game for the provided pgn if not null and side properties\n    this.chessGame = new ChessGame(this.pgn, this.side)\n  },\n  mounted () {\n    // On mounted,set the square width and hight\n    this.$nextTick(() => {\n      // Reset sqaure size every time window resizes\n      window.addEventListener('resize', this.getSquareStyle)\n      this.getSquareStyle()\n    })\n  },\n  methods: {\n    /** Set the square width/height to 1/8 of the total board width */\n    getSquareStyle (event) {\n      const board = this.$refs.board\n      if (board) {\n        // Subtract 1 from total width to avoid pixel-wrapping edge-case\n        let squareEdgeLength = (board.offsetWidth - 1) / 8\n\n        this.squareStyle = {\n          height: `${squareEdgeLength}px`,\n          width: `${squareEdgeLength}px`\n        }\n      }\n    },\n\n    /** Apply a new move to the board */\n    applyNewMove (newMove) {\n      const srcIndex = this.chessGame.getIndexForPositionString(newMove.from)\n      const targetIndex = this.chessGame.getIndexForPositionString(newMove.to)\n      this.movePiece(srcIndex, targetIndex)\n    },\n\n    /** Check if a square index is an available move */\n    isAvailableMove (index) {\n      return (this.availableMoves[index] === true)\n    },\n\n    /** TODO: Recieve a new pgn, and sync the displayed board to it */\n    syncToPgn (newPgn) {\n      this.selectedIndex = -1\n      this.availableMoves = {}\n\n      const newGame = new ChessGame(newPgn)\n\n      // Get the histories for the two games\n      const newHistory = newGame.getHistory()\n      const oldHistory = this.chessGame.getHistory()\n\n      // If the new pgn is one move ahead of the old, make the connecting move\n      if (newHistory.length === oldHistory.length + 1) {\n        this.applyNewMove(newHistory.pop())\n\n      // Else if they are not the same length, reset the whole board to the new pgn\n      } else if (newHistory.length !== oldHistory.length) {\n        this.chessGame = new ChessGame(this.pgn, this.side)\n      }\n    },\n\n    /** Get the icon for the piece */\n    getIcon (square) {\n      if (square.piece) {\n        return this.iconDir + `${square.piece.color}${square.piece.type}.svg`\n      }\n    },\n\n    /** Reset the board to original position */\n    reset () {\n      this.chessGame.reset()\n      this.syncBoard()\n    },\n\n    /** Animate piece from one index to another */\n    swap (oldIndex = 0, newIndex = 0) {\n      const temp = this.board[newIndex]\n      this.$set(this.board, newIndex, this.board[oldIndex])\n      this.$set(this.board, oldIndex, temp)\n    },\n\n    /** Move a piece to the target index, if move is valid */\n    movePiece (source, target) {\n      const result = this.chessGame.calculateMove(source, target)\n\n      // if result is undefined, move is invalid\n      if (result) {\n        this.swap(target, source) // Swap the contents of the squares\n        this.syncBoard() // Sync the piece position with the board model\n        this.availableMoves = {} // Reset available moves\n        this.selectedIndex = -1 // Reset index\n\n        // Emit the move to any parent components\n        setTimeout(() => this.$emit('change', this.chessGame.getPGN()), 200)\n      } else {\n        this.selectedIndex = -1\n        this.squareSelected(target)\n      }\n    },\n\n    /** Sync the displayed board with the chessgame object. */\n    syncBoard () {\n      /**\n       *  Why not just use \"this.board = this.chessGame.getBoard()\"? It has to do with\n       *  how Vuejs handles reactivity within arrays.  Long-story-short, in order to sync\n       *  any side-effects from the move, such as castles, promotions, and captures, it is best\n       *  for our purposes to manually assign the changed pieces within the array item.\n      */\n      const updatedBoard = this.chessGame.getBoard()\n      for (let i = 0; i < updatedBoard.length; i++) {\n        if (this.board[i].piece !== updatedBoard[i].piece) {\n          this.board[i].piece = updatedBoard[i].piece\n        }\n      }\n    },\n\n    /** Display all available moves for the selected piece */\n    displayAvailableMoves () {\n      const moves = this.chessGame.getAvailableMoves(this.selectedIndex)\n\n      if (moves.length < 1) {\n        // If no available moves, de-select the square\n        this.selectedIndex = -1\n      } else {\n        // Set each move to true in the available moves dict\n        for (let move of moves) {\n          // Use $set for the changes to display instantly in the UI\n          this.$set(this.availableMoves, move, true)\n        }\n      }\n    },\n\n    drag (index) {\n      this.squareSelected(index)\n    },\n\n    dragOver (index) {\n      console.log(index)\n    },\n\n    /** On-click for square, select square or try move if suqare is selected  */\n    squareSelected (index) {\n      if (this.isActive) {\n        this.availableMoves = {}\n        if (this.selectedIndex === index) {\n          this.selectedIndex = -1\n        } else if (this.selectedIndex > 0) {\n          this.movePiece(this.selectedIndex, index)\n        } else {\n          this.selectedIndex = index\n          this.displayAvailableMoves()\n        }\n      }\n    }\n  }\n}\n\n\n\n// WEBPACK FOOTER //\n// ./src/components/chessboard/chessboard.js","\n// This is where The main game initializes and loads the chessboard component\n// 20180703 GB\n\nimport Chessboard from '../../components/chessboard/chessboard.vue'\nimport StockfishApi from '../../services/stockfish-api'\nimport Chess from 'chess.js'\n\nexport default {\n  name: 'chess',\n  components: {\n    Chessboard\n  },\n  data () {\n    return {\n      pgn: undefined, //PGN files not supported yet\n      userid: Math.floor(Math.random() * 1000), // Random session ID (not really important for 1 player)\n      side: 'w', // Start as white\n      twoplayer: false, // Start as single player\n      iconDir: 'static/icons/' // Load the Parrots!\n    }\n  },\n  computed: {\n    game () { // TODO: Create pgn func\n      const chess = Chess() // Load new instance of a chess game, involving birds\n      chess.load_pgn(this.pgn)\n      return chess\n    }\n  },\n  created () {\n    this.newGame()\n    this.stockfishApi = new StockfishApi() // Create a new instance of a GAME and init the Stockfish API\n  },\n  methods: {\n    newGame () {\n      const chess = Chess() // TODO: Create pgn func\n      this.pgn = chess.pgn()\n    },\n    boardChange (pgn) {\n      this.pgn = pgn // TODO: Create pgn func\n\n      if (this.twoplayer) { // TODO: Create 2 player func\n        setTimeout(this.swapSides, 1000)\n      } else if (this.game.turn() !== this.side) { // Check whos turn it is. IF AI THEN call the API!\n        this.stockfishApi.getBestMove(this.game.fen()).then(response => {\n          console.log(response)\n          this.move(response.data)\n        })\n\n      }\n    },\n    swapSides () {\n      if (this.side === 'w') {// TODO: Create 2 player func\n        this.side = 'b'\n      } else {\n        this.side = 'w'\n      }\n    },\n    randomMove () { // TODO: Create 2 player func\n      const moves = this.game.moves()\n      const move = moves[Math.floor(Math.random() * (moves.length - 1))]\n      this.move(move)\n    },\n    move (move) {\n      const result = this.game.move(move, {sloppy: true})\n      console.log(result)\n      this.pgn = this.game.pgn() // TODO: Create pgn func\n    },\n    reset () {\n      const chess = this.newGame()\n      this.pgn = chess.pgn()  // TODO: Create pgn func\n    }\n  }\n}\n\n\n\n// WEBPACK FOOTER //\n// ./src/pages/chess/chess.js"],"sourceRoot":""}